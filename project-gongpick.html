<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 상세</title>
    <link rel="stylesheet" href="project-detail.css">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
</head>
<body>
    <header>
        <h1></h1>
        <a href="index.html">← 홈으로 돌아가기</a>
    </header>

    <div class="container">
        <aside class="summary-container">
            <div class="summary-box">
                <!-- Sticky Summary Box: Key Info -->
            </div>
        </aside>
        <main class="content-container">
            <!-- Main Content: Details -->
        </main>
    </div>

    <footer>
        <!-- Footer -->
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('portfolio_data.json')
                .then(response => response.json())
                .then(data => {
                    const project = data.projects.find(p => p.id === 'gongpick');

                    if (project) {
                        // --- Header & Page Title ---
                        document.querySelector('header h1').textContent = data.title;
                        document.title = project.name;

                        // --- Left Column: Summary Box ---
                        const summaryBox = document.querySelector('.summary-box');
                        summaryBox.innerHTML = `
                            <h1>${project.name}</h1>
                            <p class="role">${project.role}</p>
                            <div class="summary-section">
                                <h3>Key Achievements</h3>
                                <ul>
                                    <li>공공 데이터 가공 및 새로운 가치 창출</li>
                                    <li>아이디어 기획부터 서비스 배포까지 전 과정 주도</li>
                                </ul>
                            </div>
                            <div class="summary-section">
                                <h3>Tech Stack</h3>
                                <div class="tech-stack-grid">
                                    ${Object.values(project.techStack).join(', ').split(',').map(tech => `<span>${tech.trim()}</span>`).join('')}
                                </div>
                            </div>
                            <div class="summary-section project-links">
                                <a href="${project.presentationLink}" target="_blank">발표 자료 보기</a>
                                <!-- <a href="#" target="_blank" class="github">GitHub 저장소</a> -->
                            </div>
                        `;

                        // --- Right Column: Main Content ---
                        const mainContent = document.querySelector('.content-container');
                        mainContent.innerHTML = `
                            <div class="content-section">
                                <h2>What? (프로젝트 개요)</h2>
                                <p><strong>${project.summary}</strong> ${project.what}</p>
                            </div>
                            <div class="content-section">
                                <h2>Why? (프로젝트 동기)</h2>
                                <p>${project.why}</p>
                            </div>
                            <div class="content-section">
                                <h2>Goal (프로젝트 목표)</h2>
                                <ul>
                                    ${project.goal.map(item => `<li>${item}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="content-section how-steps">
                                <h2>How? (프로젝트 해결 방법)</h2>
                                ${project.how.map(step => `
                                    <div class="step">
                                        <h4>${step.title}</h4>
                                        <p>${step.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="content-section result-section">
                                <h2>Result (프로젝트 결론)</h2>
                                <div class="highlight">
                                    <p><strong>성과:</strong> ${project.result}</p>
                                </div>
                                <p><strong>한계점 및 개선 방향:</strong> ${project.limitations}</p>
                            </div>
                        `;

                        // --- Footer ---
                        const footer = document.querySelector('footer');
                        footer.innerHTML = `<p>&copy; ${new Date().getFullYear()} ${data.footer.copyright}. All rights reserved.</p>`;

                    } else {
                        document.querySelector('.container').innerHTML = '<h2>프로젝트를 찾을 수 없습니다.</h2>';
                    }
                })
                .catch(error => {
                    console.error('Error fetching project data:', error);
                    document.querySelector('.container').innerHTML = '<h2>데이터를 불러오는 중 오류가 발생했습니다.</h2>';
                });
        });
    </script>
</body>
</html>